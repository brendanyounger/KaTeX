<!DOCTYPE html>
<html>
    <head>
        <title>KaTeX Test</title>
        <script src="react.min.js"></script>
        <script src="katex.js" type="text/javascript"></script>
        <script src="main.js" type="text/javascript"></script>
        <link href="fonts/fonts.css" rel="stylesheet" type="text/css">
        <link href="katex.less" rel="stylesheet" type="text/less">
        <link href="main.css" rel="stylesheet" type="text/css">
        <!--[if gte IE 9]><!-->
        <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/1.4.1/less.min.js"></script>
        <!--<![endif]-->
        <!--[if lt IE 9]>
        <link href="katex.less.css" rel="stylesheet" type="text/css">
        <![endif]-->
    </head>
    <body>
        <div id="math"></div>
        <script type="text/javascript">
            var MathDisplay = React.createClass({
                getInitialState: function() {
                    return {expression: "\\sqrt{123}"};
                },
                handleChange: function(event) {
                    this.setState({expression:event.target.value});
                },
                render: function() {
                    var nodes = React.DOM.span({});

                    try {
                        nodes = katex.render(this.state.expression);
                    }
                    catch(e) { console.log(e); }

                    return (
                        React.DOM.div({
                            children:[
                                React.DOM.input({
                                    type:"text",
                                    value:this.state.expression,
                                    onChange:this.handleChange }),
                                nodes]}));
                }
            });
            React.renderComponent(MathDisplay({}), document.getElementById('math'));
        </script>
    </body>
</html>
